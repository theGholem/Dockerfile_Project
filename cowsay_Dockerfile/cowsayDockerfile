# On s'appuie sur l'image ubuntu:22.04
FROM ubuntu:24.04
# Notre rÃ©pertoire de travail
# sera la racine du systÃ¨me de fichier
# du conteneur
WORKDIR /Â 
# Notre image ne nÃ©cessite pas
# particuliÃ¨rement de copier un fichier.
# Cependant, l'instruction suivante permettrait
# de copier le rÃ©pertoire ./messages de la
# machine hÃ´te vers le rÃ©pertoire /data du conteneur
# COPY ./messages /data
RUN apt-get update && apt-get install -y cowsay dumb-init
# DÃ©finition d'une variable d'environnement
# "MESSAGE" avec en valeur par dÃ©faut "Mooo !!!"
ENV MESSAGE="Hi, i'm KiRi's cow ğŸ„ğŸ˜œ"
# Utilisation de l'utilitaire "dumb-init"
# comme point d'entrÃ©e de notre conteneur
ENTRYPOINT ["/usr/bin/dumb-init", "--"]
# DÃ©finition de notre commande par dÃ©faut
CMD ["/bin/bash", "-c", "/usr/games/cowsay $MESSAGE"]
# Notre conteneur n'expose pas vÃ©ritablement
# de service rÃ©seau, les instructions EXPOSE
# et VOLUMES n'ont donc pas de rÃ©elle utilitÃ© ici
# EXPOSE 80
# VOLUME /data
# DÃ©finition d'une Ã©tiquette arbitraire sur notre image
LABEL description="Un conteneur permettant d'afficher des messages humoristiques."

